{"ast":null,"code":"export default class FilmApiService {\n  constructor() {\n    this.BasePath = 'http://localhost:64303';\n    this.Controller = 'Films';\n    this.Id = 'Random';\n  }\n\n  async getResource(controller = this.Controller, id = '') {\n    const res =\n    /*await*/\n    fetch(\"\".concat(this.BasePath, \"/api/\").concat(controller, \"/\").concat(id), {\n      mode: 'no-cors'\n    });\n\n    if (!res.ok) {\n      throw new Error(\"Could not fetch \".concat(this.BasePath) + \", received \".concat(res.status));\n    }\n\n    return await res.json();\n  }\n\n  async getAllFilms() {\n    const res = await this.getResource('Films');\n    return res.results.map(this._transformFilm);\n  }\n\n  async getFilmById(id) {\n    const film = await this.getResource(this.Controller, id);\n    return this._transformFilm(film);\n  }\n\n  async getRandomFilm() {\n    const film = await this.getResource(this.Controller, 'Random');\n    return this._transformFilm(film);\n  }\n\n  _transformFilm(film) {\n    return {\n      id: film.id,\n      title: film.title,\n      duaration: film.duaration,\n      genre: film.genre,\n      description: film.description,\n      year: film.year,\n      director: film.director,\n      urlImg: film.urlImg,\n      urlTrailer: film.urlTrailer\n    };\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\Anton\\projects\\randomfilm_frontend\\src\\services\\FilmApiService.js"],"names":["FilmApiService","BasePath","Controller","Id","getResource","controller","id","res","fetch","mode","ok","Error","status","json","getAllFilms","results","map","_transformFilm","getFilmById","film","getRandomFilm","title","duaration","genre","description","year","director","urlImg","urlTrailer"],"mappings":"AAAA,eAAe,MAAMA,cAAN,CAAqB;AAAA;AAAA,SAEhCC,QAFgC,GAErB,wBAFqB;AAAA,SAGhCC,UAHgC,GAGnB,OAHmB;AAAA,SAIhCC,EAJgC,GAI3B,QAJ2B;AAAA;;AAMhC,QAAMC,WAAN,CAAkBC,UAAU,GAAG,KAAKH,UAApC,EAAgDI,EAAE,GAAG,EAArD,EAAyD;AACrD,UAAMC,GAAG;AAAG;AAAUC,IAAAA,KAAK,WAAI,KAAKP,QAAT,kBAAyBI,UAAzB,cAAuCC,EAAvC,GAA6C;AAACG,MAAAA,IAAI,EAAE;AAAP,KAA7C,CAA3B;;AAEA,QAAI,CAACF,GAAG,CAACG,EAAT,EAAa;AACT,YAAM,IAAIC,KAAJ,CAAU,0BAAmB,KAAKV,QAAxB,yBACEM,GAAG,CAACK,MADN,CAAV,CAAN;AAEH;;AACD,WAAO,MAAML,GAAG,CAACM,IAAJ,EAAb;AACH;;AAED,QAAMC,WAAN,GAAoB;AAChB,UAAMP,GAAG,GAAG,MAAM,KAAKH,WAAL,CAAiB,OAAjB,CAAlB;AACA,WAAOG,GAAG,CAACQ,OAAJ,CAAYC,GAAZ,CAAgB,KAAKC,cAArB,CAAP;AACH;;AAED,QAAMC,WAAN,CAAkBZ,EAAlB,EAAsB;AAClB,UAAMa,IAAI,GAAG,MAAM,KAAKf,WAAL,CAAiB,KAAKF,UAAtB,EAAkCI,EAAlC,CAAnB;AACA,WAAO,KAAKW,cAAL,CAAoBE,IAApB,CAAP;AACH;;AAED,QAAMC,aAAN,GAAsB;AAClB,UAAMD,IAAI,GAAG,MAAM,KAAKf,WAAL,CAAiB,KAAKF,UAAtB,EAAkC,QAAlC,CAAnB;AACA,WAAO,KAAKe,cAAL,CAAoBE,IAApB,CAAP;AACH;;AAEDF,EAAAA,cAAc,CAACE,IAAD,EAAO;AACjB,WAAO;AACCb,MAAAA,EAAE,EAAEa,IAAI,CAACb,EADV;AAECe,MAAAA,KAAK,EAAEF,IAAI,CAACE,KAFb;AAGCC,MAAAA,SAAS,EAAEH,IAAI,CAACG,SAHjB;AAICC,MAAAA,KAAK,EAAEJ,IAAI,CAACI,KAJb;AAKCC,MAAAA,WAAW,EAAEL,IAAI,CAACK,WALnB;AAMCC,MAAAA,IAAI,EAAEN,IAAI,CAACM,IANZ;AAOCC,MAAAA,QAAQ,EAAEP,IAAI,CAACO,QAPhB;AAQCC,MAAAA,MAAM,EAAER,IAAI,CAACQ,MARd;AASCC,MAAAA,UAAU,EAAET,IAAI,CAACS;AATlB,KAAP;AAWH;;AA3C+B","sourcesContent":["export default class FilmApiService {\r\n\r\n    BasePath = 'http://localhost:64303';\r\n    Controller = 'Films'\r\n    Id = 'Random';\r\n\r\n    async getResource(controller = this.Controller, id = '') {\r\n        const res = /*await*/ fetch(`${this.BasePath}/api/${controller}/${id}`, {mode: 'no-cors'});\r\n\r\n        if (!res.ok) {\r\n            throw new Error(`Could not fetch ${this.BasePath}` +\r\n                `, received ${res.status}`)\r\n        }\r\n        return await res.json();\r\n    }\r\n\r\n    async getAllFilms() {\r\n        const res = await this.getResource('Films');\r\n        return res.results.map(this._transformFilm);\r\n    }\r\n\r\n    async getFilmById(id) {\r\n        const film = await this.getResource(this.Controller, id);\r\n        return this._transformFilm(film);\r\n    }\r\n\r\n    async getRandomFilm() {\r\n        const film = await this.getResource(this.Controller, 'Random');\r\n        return this._transformFilm(film);\r\n    }\r\n\r\n    _transformFilm(film) {\r\n        return {\r\n                id: film.id,\r\n                title: film.title,\r\n                duaration: film.duaration,\r\n                genre: film.genre,\r\n                description: film.description,\r\n                year: film.year,\r\n                director: film.director,\r\n                urlImg: film.urlImg,\r\n                urlTrailer: film.urlTrailer\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}